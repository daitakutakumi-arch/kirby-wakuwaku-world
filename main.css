/* main.css — 強化版 (全体幅拡大 / カービィ世界全開 / ヘッダー強化 / モバイル最適化) */

:root{
  --max-width:1600px;
  --bg-1:#fff0fb;
  --bg-2:#ffd7f6;
  --kirby-pink:#ff4fb4;
  --kirby-hotpink:#ff0fa0;
  --accent:#ffe600;
  --accent-2:#ff8b00;
  --glass:rgba(255,255,255,0.75);
  --shadow:0 20px 60px rgba(255,0,170,0.22);
  --radius:28px;
  --ui-padding:18px;
}

/* reset */
*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%}
body{
  font-family:"Nunito","Yu Gothic","Hiragino Kaku Gothic ProN",sans-serif;
  background:linear-gradient(180deg,var(--bg-1),var(--bg-2));
  color:#5a0044;
  -webkit-font-smoothing:antialiased;
  overflow-x:hidden;
}

/* Scene (background) */
.scene{position:fixed;inset:0;z-index:0;pointer-events:none;overflow:hidden}
.stars,.warpstars,.clouds,.kirby-bubbles,.rain{position:absolute;inset:0;z-index:0}
.star{position:absolute;width:6px;height:6px;border-radius:50%;background:#fff;filter:drop-shadow(0 0 10px #fff);opacity:0.9;animation:twinkle 3s infinite}
@keyframes twinkle{0%{transform:scale(.6);opacity:.25}50%{transform:scale(1.4);opacity:1}100%{transform:scale(.6);opacity:.25}}
.cloud{position:absolute;width:360px;height:160px;background:linear-gradient(180deg,#fff,#fffdf2);border-radius:90px;filter:drop-shadow(0 12px 30px rgba(255,0,170,0.12));animation:cloudFloat linear infinite;opacity:.98}
@keyframes cloudFloat{0%{transform:translateX(-150vw)}100%{transform:translateX(150vw)}}
.kirby-floating{position:absolute;width:92px;height:92px;background-image:url('https://www.kirby.jp/img/characters/kirby.png');background-size:contain;filter:drop-shadow(0 12px 30px rgba(255,0,180,0.55));animation:kirbyFloat 4s ease-in-out infinite}
@keyframes kirbyFloat{0%{transform:translateY(0)}50%{transform:translateY(-22px)}100%{transform:translateY(0)}}

/* rain (star drops) */
.rain .drop{position:absolute;width:10px;height:16px;background:radial-gradient(circle at 30% 30%,#fff,#ffbdea);border-radius:6px;opacity:.95;animation:rainFall linear infinite}
@keyframes rainFall{to{transform:translateY(140vh) rotate(40deg)}}

/* header */
header{
  position:sticky;top:8px;z-index:100001;max-width:var(--max-width);margin:18px auto;padding:14px 22px;display:flex;align-items:center;justify-content:space-between;border-radius:40px;background:linear-gradient(135deg,var(--kirby-pink),var(--kirby-hotpink));box-shadow:var(--shadow);border:4px solid var(--accent);backdrop-filter:blur(6px);transition:all .22s ease
}
.brand{display:flex;gap:14px;align-items:center}
.brand img{width:78px;height:78px;filter:drop-shadow(0 0 14px #fff);border-radius:12px}
.brand h1{color:#fff;font-size:1.6rem;text-shadow:0 0 12px #ff00cc;font-weight:900}
nav ul{display:flex;gap:12px;align-items:center;list-style:none}
nav a{display:inline-block;padding:10px 18px;background:var(--accent);color:#8a0044;border-radius:999px;font-weight:800;box-shadow:0 6px 14px rgba(255,255,0,0.35);transition:transform .18s,box-shadow .18s}
nav a:hover{transform:translateY(-4px) scale(1.04);background:var(--accent-2);box-shadow:0 12px 30px rgba(255,120,0,0.48)}

/* main width larger */
main{position:relative;z-index:10;max-width:var(--max-width);margin:36px auto;padding:22px}
.hero{display:flex;gap:28px;padding:30px;background:linear-gradient(180deg,#fffaff,#ffdff6);border-radius:var(--radius);box-shadow:var(--shadow);border:6px solid rgba(255,0,150,0.12);align-items:flex-start}
.hero .hero-left{flex:1;min-width:320px;display:flex;flex-direction:column;gap:14px}
.hero h2{font-size:2.6rem;color:var(--kirby-hotpink);text-shadow:0 6px 18px rgba(255,0,160,0.3)}
.hero p{font-size:1.1rem;color:#6a0055;font-weight:700}

/* buttons */
.buttons{display:flex;gap:18px;flex-wrap:wrap}
.pill{padding:14px 22px;background:linear-gradient(90deg,var(--accent),var(--accent-2));border-radius:999px;font-weight:900;color:#6a0040;box-shadow:0 10px 22px rgba(255,200,0,0.34);border:3px solid #fff;transition:transform .18s,filter .18s}
.pill:hover{transform:scale(1.06)}

/* slider bigger */
.slider{width:520px;border-radius:20px;overflow:hidden;border:6px solid #fff;box-shadow:0 14px 32px rgba(255,0,180,0.18);background:linear-gradient(180deg,#fff,#fff9fb)}
.slides{display:flex;transition:transform .6s cubic-bezier(.2,.9,.3,1);width:100%}
.slide{min-width:100%;padding:18px;display:flex;align-items:center;justify-content:center}
.slide img{width:100%;height:320px;object-fit:cover;border-radius:14px}

/* dots */
.dots{display:flex;gap:12px;justify-content:center;margin-top:12px}
.dot{width:14px;height:14px;border-radius:50%;background:#ffbdea;box-shadow:0 0 8px #fff;cursor:pointer}
.dot.active{background:var(--kirby-hotpink);transform:scale(1.2)}

/* section and cards */
.section{margin-top:30px}
.card{background:linear-gradient(180deg,#fff8ff,#fff0fb);border-radius:20px;padding:18px;border:4px solid rgba(255,0,160,0.08);box-shadow:0 12px 30px rgba(255,0,160,0.08)}
.ranking{display:flex;gap:14px;flex-wrap:wrap}

/* chars grid larger */
.chars{display:grid;grid-template-columns:repeat(4,1fr);gap:20px;margin-top:18px}
.char{background:linear-gradient(180deg,#fff,#ffeaff);border-radius:20px;padding:18px;text-align:center;border:6px solid var(--kirby-pink);box-shadow:0 16px 36px rgba(255,0,160,0.12);transition:transform .18s}
.char img{width:160px;height:160px;object-fit:contain;border-radius:12px}
.char h4{font-size:1.2rem;margin-top:10px}

/* goods grid bigger */
.goods{display:grid;grid-template-columns:repeat(3,1fr);gap:20px;margin-top:18px}
.product{background:#fff;border-radius:18px;padding:18px;text-align:center;border:5px solid #ff9ada;box-shadow:0 14px 30px rgba(255,0,180,0.12);transition:transform .18s}
.product img{width:180px;height:180px;object-fit:contain;margin-bottom:6px}
.price{font-size:1.3rem;color:var(--kirby-hotpink);font-weight:900}

/* modal/toast */
.modal{display:none;position:fixed;inset:0;z-index:100005;background:rgba(90,0,60,0.6);backdrop-filter:blur(4px);align-items:center;justify-content:center;padding:20px}
.modal .box{background:linear-gradient(180deg,#fff0fa,#fff8ff);padding:26px;border-radius:22px;max-width:820px;width:100%;box-shadow:0 30px 80px rgba(255,0,180,0.25);border:6px solid var(--kirby-pink)}
.toast{position:fixed;left:50%;bottom:24px;transform:translateX(-50%);background:var(--accent-2);padding:14px 22px;border-radius:999px;color:#fff;font-weight:900;box-shadow:0 12px 36px rgba(255,140,0,0.36);display:none;z-index:100006}

/* halfmenu style */
.halfmenu{position:absolute;background:rgba(255,200,240,0.96);backdrop-filter:blur(6px);border-radius:120px 120px 0 0;padding:12px 18px 10px;box-shadow:0 12px 40px rgba(255,0,180,0.3);transform:translate(-50%,-100%);animation:popup .18s;z-index:100010}
.halfmenu button{padding:10px 16px;border-radius:999px;border:3px solid #fff;background:linear-gradient(135deg,#ffccf5,#ff79d4);font-weight:900;color:#6a0044;cursor:pointer}
@keyframes popup{from{transform:translate(-50%,-60%) scale(.6);opacity:0}to{transform:translate(-50%,-100%) scale(1);opacity:1}}

/* responsive mobile */
@media(max-width:1100px){
  :root{--max-width:1100px}
  .slider{width:360px}
  .slide img{height:260px}
  .chars{grid-template-columns:repeat(3,1fr)}
  .goods{grid-template-columns:repeat(2,1fr)}
  .char img{width:130px;height:130px}
  .product img{width:140px;height:140px}
}
@media(max-width:700px){
  :root{--max-width:100%}
  header{padding:10px;border-radius:22px}
  .hero{flex-direction:column;gap:14px;padding:18px}
  .slider{width:100%}
  .slides .slide img{height:200px}
  .chars{grid-template-columns:repeat(2,1fr)}
  .goods{grid-template-columns:1fr}
  .brand img{width:56px;height:56px}
  .brand h1{font-size:1.05rem}
  .pill{padding:12px 16px;font-size:0.95rem}
  .halfmenu{width:220px}
}

/* small helpers */
.center{text-align:center}
.muted{color:#9a6a98;font-size:.95rem}
footer{
  text-align:center;
  margin:40px 0 20px 0;
  color:#aa77bb;
  font-size:.9rem;
}
/* --- ロード画面強化 --- */
#loadingWrap{
  position: fixed;
  inset: 0;
  background: rgba(255,230,250,10.95);
  z-index: 999999999;
  display: flex;
  align-items: center;
  justify-content: center;
}

.loader-card{
  background: #fff;
  padding: 30px;
  border-radius: 20px;
  text-align: center;
  box-shadow: 0 10px 40px rgba(255,0,180,0.3);
}

.loader-kirby img{
  width: 120px;
}

.loader-text{
  font-size: 1.4rem;
  font-weight: 900;
  margin-top: 10px;
  color: #ff00a8;
}

.loader-sub{
  font-size: 1rem;
  margin-top: 6px;
}

.suck-wrap{
  width: 260px;
  height: 18px;
  background: #ffd6f7;
  border-radius: 20px;
  margin-top: 16px;
  overflow: hidden;
}

.suck-fill{
  width: 0%;
  height: 100%;
  background: linear-gradient(90deg,#ff93d6,#ff41b4);
  border-radius: 20px;
  transition: width .25s linear;
}
